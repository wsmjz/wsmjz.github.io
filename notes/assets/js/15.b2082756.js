(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{144:function(a,t,s){"use strict";s.r(t);var e=s(0),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack","aria-hidden":"true"}},[a._v("#")]),a._v(" webpack")]),a._v(" "),s("ul",[s("li",[a._v("依赖工具webpack-cli")]),a._v(" "),s("li",[a._v("基于node开发（node遵循commonJs规范）")]),a._v(" "),s("li",[a._v("默认支持commonjs, es6 esmodle")]),a._v(" "),s("li",[a._v("--mode production/development")]),a._v(" "),s("li",[a._v("--env.development")])]),a._v(" "),s("h2",{attrs:{id:"问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题","aria-hidden":"true"}},[a._v("#")]),a._v(" 问题")]),a._v(" "),s("ul",[s("li",[a._v("图片打包问题 不应放在哪儿 打包成base64比较大")])]),a._v(" "),s("h2",{attrs:{id:"文件配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 文件配置")]),a._v(" "),s("ul",[s("li",[a._v("定义webpack.config.js")]),a._v(" "),s("li",[a._v("使用path解析绝对路径")])]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("__dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("ul",[s("li",[a._v("配置环境变量")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("module.exports = (env) => {\n​\tconsole.log(env)\n​\tlet isEnv = env.development\n}\n")])])]),s("h2",{attrs:{id:"loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loader","aria-hidden":"true"}},[a._v("#")]),a._v(" Loader")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("流程解析")]),a._v(" "),s("ol",[s("li",[a._v("loader运行的总体流程")]),a._v(" "),s("li",[a._v("babel-loader")]),a._v(" "),s("li",[a._v("pitch")]),a._v(" "),s("li",[a._v("loader-runner")]),a._v(" "),s("li",[a._v("file")]),a._v(" "),s("li",[a._v("css")])])]),a._v(" "),s("li",[s("p",[a._v("可处理配置")]),a._v(" "),s("ol",[s("li",[a._v("处理CSS文件")]),a._v(" "),s("li",[a._v("处理文件类型")]),a._v(" "),s("li",[a._v("处理JS模块")]),a._v(" "),s("li",[a._v("拷贝静态文件")]),a._v(" "),s("li",[a._v("resolve解析")]),a._v(" "),s("li",[a._v("配置ts环境")]),a._v(" "),s("li",[a._v("配置ts+react环境")]),a._v(" "),s("li",[a._v("配置ts+vue环境")]),a._v(" "),s("li",[a._v("配置代理")])])])]),a._v(" "),s("h3",{attrs:{id:"css-loaders"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-loaders","aria-hidden":"true"}},[a._v("#")]),a._v(" css loaders")]),a._v(" "),s("h3",{attrs:{id:"图片-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片-loader","aria-hidden":"true"}},[a._v("#")]),a._v(" 图片 loader")]),a._v(" "),s("h3",{attrs:{id:"字体-icon-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字体-icon-loader","aria-hidden":"true"}},[a._v("#")]),a._v(" 字体 icon loader")]),a._v(" "),s("h3",{attrs:{id:"js-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js-loader","aria-hidden":"true"}},[a._v("#")]),a._v(" js loader")]),a._v(" "),s("h3",{attrs:{id:"react-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-loader","aria-hidden":"true"}},[a._v("#")]),a._v(" React loader")]),a._v(" "),s("h3",{attrs:{id:"vue-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-loader","aria-hidden":"true"}},[a._v("#")]),a._v(" Vue loader")]),a._v(" "),s("h2",{attrs:{id:"优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优化","aria-hidden":"true"}},[a._v("#")]),a._v(" 优化")]),a._v(" "),s("ol",[s("li",[a._v("删除无用的Css样式")]),a._v(" "),s("li",[a._v("图片压缩插件")]),a._v(" "),s("li",[a._v("CDN加载文件")]),a._v(" "),s("li",[a._v("Tree-shaking && Scope-Hoisting （摇晃树）")]),a._v(" "),s("li",[a._v("DllPlugin && DllReferencePlugin")]),a._v(" "),s("li",[a._v("动态加载文件")]),a._v(" "),s("li",[a._v("打包文件分析工具")]),a._v(" "),s("li",[a._v("SplitChunks")]),a._v(" "),s("li",[a._v("热更新")]),a._v(" "),s("li",[a._v("IgnorePlugin")]),a._v(" "),s("li",[a._v("费时分析")]),a._v(" "),s("li",[a._v("noParse")]),a._v(" "),s("li",[a._v("resolve")]),a._v(" "),s("li",[a._v("include/exclude")]),a._v(" "),s("li",[a._v("happypack")])]),a._v(" "),s("h3",{attrs:{id:"dll-plugin-打包速度优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dll-plugin-打包速度优化","aria-hidden":"true"}},[a._v("#")]),a._v(" DLL Plugin 打包速度优化")]),a._v(" "),s("h2",{attrs:{id:"文件分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件分析","aria-hidden":"true"}},[a._v("#")]),a._v(" 文件分析")]),a._v(" "),s("ol",[s("li",[a._v("同步加载")]),a._v(" "),s("li",[a._v("harmony")]),a._v(" "),s("li",[a._v("异步加载")])]),a._v(" "),s("h2",{attrs:{id:"tapable"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tapable","aria-hidden":"true"}},[a._v("#")]),a._v(" tapable")]),a._v(" "),s("ol",[s("li",[a._v("webpack的插件机制")]),a._v(" "),s("li",[a._v("tapable分类")])]),a._v(" "),s("ul",[s("li",[a._v("hook SyncHook在实际工作中有什么用？")]),a._v(" "),s("li",[a._v("tapable很适合用来实现一个插件系统，并且可以控制各种类型的插件的执行的时间点")]),a._v(" "),s("li",[a._v("webpack就是这样做的，提供了很多钩子，然后控制各个钩子的执行时间点")])]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" synchook "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SyncHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("'name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 注册监听函数")]),a._v("\nsynchook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n   console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nsynchook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'age'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n   console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'age'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 发布事件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("synchook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("call")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'qiqingfu'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("SyncHook")])]),a._v(" "),s("h2",{attrs:{id:"代码分割"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码分割","aria-hidden":"true"}},[a._v("#")]),a._v(" 代码分割")]),a._v(" "),s("p",[a._v("代码分割打包")]),a._v(" "),s("h2",{attrs:{id:"流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#流程","aria-hidden":"true"}},[a._v("#")]),a._v(" 流程")]),a._v(" "),s("ul",[s("li",[a._v("编译流程")]),a._v(" "),s("li",[a._v("调试webpack")]),a._v(" "),s("li",[a._v("Stats 对象")]),a._v(" "),s("li",[a._v("详细工作流程")])])])}),[],!1,null,null,null);t.default=n.exports}}]);